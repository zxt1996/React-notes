# 高阶组件
高阶组件就是一个函数，且该函数接受一个组件作为参数，并返回一个新的组件。  
  
**高阶组件就是一个没有副作用的纯函数**  
## 1. 普通组件

Welcome组件

```
import React,{Component} from 'react'

class Welcome extends Component {
    constructor(props){
        super(props);
        this.state = {
            username:''
        }
    }

    componentWillMount(){
        let username = localStorage.getItem('username');
        this.setState({
            username:username
        })
    }

    render(){
        return (
            <div>welcom{this.state.username}</div>
        )
    }
}

export default Welcom
```
Goodbye组件
```
import React, {Component} from 'react'

class Goodbye extends Component {
    constructor(props) {
        super(props);
        this.state = {
            username: ''
        }
    }

    componentWillMount() {
        let username = localStorage.getItem('username');
        this.setState({
            username: username
        })
    }

    render() {
        return (
            <div>goodbye {this.state.username}</div>
        )
    }
}

export default Goodbye;
```
## 2. 高阶组件

```
import React,{Component} from 'react'

export default (WrappedComponent) => {
    class NewComponent extends Component{
        constructor(){
        super();
        this.state = {
            username:''
        }
    }

        componentWillMount(){
            let username = localStorage.getItem('username');
            this.setState({
                username:username
            })
        }

        render(){
            return <WrappedComponent username={this.state.username}/>
        }
    }
    return NewComponent
}
```
## 3. 简化Welcome组件
```
import React,{Component} from 'react';
import wrapWithUsername from 'wrapWithUsername';

class Welcome extends Component{
    render(){
        return (
            <div>welcome{this.props.username}</div>
        )
    }
}

Welcome = wrapWithUsername(Welcome);

export default Welcome;
```
高阶组件就是把username通过props传递给目标组件了。目标组件只管从props里面拿来用就好了。