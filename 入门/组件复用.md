# 组件复用
1. 高阶组件
2. 函数作为子组件
## 高阶组件(HOC)
高阶组件是参数为组件，返回值为新组件的函数,为了组件之间的代码复用。  
高阶组件的内部的包装组件和被包装组件之间通过props传递数据。
```
const EnhancedComponent = higherOrderComponent(wrappedComponent);
```
一个简单的高阶组件
```
import React,{ Component } from 'react'

export default (WrappedComponent)=>{
    class NewComponent extends Component{
        //可以做很多自定义逻辑
        render(){
            return <WrappedComponent />
        }
    }
    return NewComponent
}
```
简单的构建了一个新的组件类 NewComponent，然后把传进入去的 WrappedComponent 渲染出来。但是我们可以给 NewCompoent 做一些数据启动工作：
```
import React,{Component} from 'react'

export default (WrappedComponent,name)=>{
    class NewComponent extends Component{
        constructor(){
            super()
            this.state={data:null}
        }

        componentWillMount(){
            let data=localStorag.getItem(name)
            this.setState({data})
        }

        render(){
            return <WrappedComponent data={this.state.data} />
        }
    }
    return NewComponent
}
```
假设上面的代码是在 src/wrapWithLoadData.js 文件中的，我们可以在别的地方这么用它：
```
import wrapWithLoadData from './wrapWithLoadData'

class InputWithUserName extends Component{
    render(){
        return <input value={this.props.data}/>
    }
}

InputWithUserName = wrapWithLoadData(InputWithUserName,'username')
export default InputWithUserName
```
假如 InputWithUserName 的功能需求是挂载的时候从 LocalStorage 里面加载 username 字段作为 \<input /> 的 value 值，现在有了 wrapWithLoadData，我们可以很容易地做到这件事情。

只需要定义一个非常简单的 InputWithUserName，它会把 props.data 作为 \<input /> 的 value 值。然把这个组件和 'username' 传给 wrapWithLoadData，wrapWithLoadData 会返回一个新的组件，我们用这个新的组件覆盖原来的 InputWithUserName，然后再导出去模块。
## 函数作为子组件
“函数作为子组件”是一个组件，这个组件接收一个函数作为其子组件。
```
class MyComponent extends React.Component{
    render(){
        return(
          <div>
            {this.props.children('zxt')}
          </div>
        );
    }
}

<MyComponent>
  {(name)=>(
      <div>{name}</div>
  )}
</MyComponent>
```